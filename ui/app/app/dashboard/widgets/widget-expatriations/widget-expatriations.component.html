<div class="form-card widget force-inner-space-bottom-0 force-inner-space-top-5">
    <div class="row no-margin" *ngIf="expatriations?.length > 0">
        <div class="col s12 m6 l6 separator full-height">
            <div class="row no-margin-bottom">
                <div class="col s12">
                    <select name="expatSelected" materialize="material_select" [(ngModel)]="expatSelected">
                      <option *ngFor="let expat of expatriations; index as i" [ngValue]="expat" [attr.selected]="i == 0">{{expat.location.country}}</option>
                    </select>
                </div>
            </div>
            <div class="row force-space-bottom-5 info-expat">
                <div class="col s9 location-expat">
                    <img *ngIf="expatSelected" [src]="'http://www.geonames.org/flags/x/' + expatSelected?.location.countryCode + '.gif'" alt="">
                    <span class="city">{{ expatSelected?.location.name }}</span>
                </div>

                <div class="col s3 text-right force-inner-space-right-0" *ngIf="expatSelected?.dayDiff > -1">
                    <span class="label-day-diff">J -</span>
                    <span class="value-day-diff">{{expatSelected?.dayDiff}}</span>
                </div>
            </div>

            <div class="row no-margin-bottom">
                <div class="col s12">
                    <div class="pourcent-progress">{{expatSelected?.completedAt || 0}}%</div>
                    <div class="pourcent-progress-label">des tâches effectuées</div>
                </div>
            </div>

            <div class="row">
                <div class="progress-bg">
                    <div class="progress" [style.width]="(expatSelected?.completedAt || 0) + '%'"></div>
                </div>
            </div>
        </div>

        <div class="col s12 m6 l6">
            <div class="row title-list space-top-3">
                <span class="s12 title">My needs</span>
            </div>
            <ul class="row list-expat-areas">
                <li *ngFor="let list of expatSelected?.lists" class="list-expat-areas-item">
                    <div class="no-completed" *ngIf="list.itemsNotCompleted > 0">{{list.itemsNotCompleted}}</div>
                    <i class="icon" [ngClass]="list.icon"></i>
                </li>
            </ul>
        </div>
    </div>

    <div class="row full-height valign-wrapper infos-message" *ngIf="expatriations?.length === 0">
        <img src="assets/img/expat.png" alt="Expatriation" class="no-expat">
        <span class="col s12 valign text-message">
          <div class="row">
            <div class="col s12 center-align">Découvrez nos services et vous verrez votre expatriation autrement.</div>
          </div>
          <div class="row">
            <a routerLink="/auth/first" class="btn btn-validate waves-effect col s12">Créer mon expatriation</a>
          </div>
        </span>
    </div>

</div>
